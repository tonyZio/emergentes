<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Formulario Empleado</title>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const option = urlParams.get("opcion");

      function loadWebComponent(option) {
        let scriptSrc, innerHTML;

        switch (option) {
          case "crear":
            scriptSrc = "pages/gestion-empleado.js";
            innerHTML = "<gestion-empleado option='crear'></gestion-empleado>";
            break;

          case "leer":
            scriptSrc = "pages/ver-empleado.js";
            innerHTML = "<tabla-empleado></tabla-empleado>";
            break;

          case "actualizar":
            scriptSrc = "pages/gestion-empleado.js";
            innerHTML = `<gestion-empleado option='actualizar' empleado-id=${localStorage.getItem(
              "empleadoId"
            )}></gestion-empleado>`;
            break;
        }

        const script = document.createElement("script");
        script.src = scriptSrc;

        script.onload = function () {
          document.body.innerHTML = innerHTML;
        };

        document.head.appendChild(script);
      }

      loadWebComponent(option);
    </script>
  </head>
  <body></body>
</html>
