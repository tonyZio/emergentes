<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Gesti√≥n de Departamento</title>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const option = urlParams.get("opcion");

      function loadWebComponent(option) {
        let scriptSrc, innerHTML;

        switch (option) {
          case "crear":
            scriptSrc = "pages/gestion-departamento.js";
            innerHTML =
              "<gestion-departamento option='crear'></gestion-departamento>";
            break;

          case "leer":
            scriptSrc = "pages/ver-departamento.js";
            innerHTML = "<tabla-departamento></tabla-departamento>";
            break;

          case "actualizar":
            scriptSrc = "pages/gestion-departamento.js";
            innerHTML = `<gestion-departamento option='actualizar' departamento-id=${localStorage.getItem(
              "departamentoId"
            )}></gestion-departamento>`;
            break;
        }

        const script = document.createElement("script");
        script.src = scriptSrc;

        script.onload = function () {
          document.body.innerHTML = innerHTML;
        };

        document.head.appendChild(script);
      }

      loadWebComponent(option);
    </script>
  </head>
  <body></body>
</html>
