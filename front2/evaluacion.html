<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <title>Formulario Evaluacion</title>

    <script>
      const urlParams = new URLSearchParams(window.location.search);
      const option = urlParams.get("opcion");

      function loadWebComponent(option) {
        let scriptSrc, innerHTML;

        switch (option) {
          case "crear":
            scriptSrc = "pages/gestion-evaluacion.js";
            innerHTML =
              "<gestion-evaluacion option='crear'></gestion-evaluacion>";
            break;

          case "leer":
            scriptSrc = "pages/ver-evaluacion.js";
            innerHTML = "<tabla-evaluacion></tabla-evaluacion>";
            break;

          case "actualizar":
            scriptSrc = "pages/gestion-evaluacion.js";
            innerHTML = `<gestion-evaluacion option='actualizar' evaluacion-id=${localStorage.getItem(
              "evaluacionId"
            )}></gestion-evaluacion>`;
            break;
        }

        const script = document.createElement("script");
        script.src = scriptSrc;

        script.onload = function () {
          document.body.innerHTML = innerHTML;
        };

        document.head.appendChild(script);
      }

      loadWebComponent(option);
    </script>
  </head>
  <body></body>
</html>
